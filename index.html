<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Meta tags for character set and responsive viewport -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jai Maa Jhandewali Store - BDM Capstone Dashboard (Revised)</title>

  <!-- Bootstrap 5 CSS -->
  <!-- Fetches the Bootstrap stylesheet for layout, components, and utilities -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <!-- Chart.js CDN -->
  <!-- Core Chart.js library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
  <!-- Date Adapter for Chart.js (required for time scales) -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

  <!-- Custom CSS Styles -->
  <style>
    /* Base body styling */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Consistent font stack */
      background-color: #f8f9fa; /* Bootstrap's light gray background */
      font-size: 1.05rem; /* REVISED base font size (slightly larger than default) */
      color: #212529; /* Default Bootstrap text color */
    }

    /* Custom Card Accent (Optional visual flair) */
    .card-accent-left {
      border-left: 4px solid var(--bs-primary); /* Standard thickness */
    }

    /* Image Gallery Container Styling */
    .store-image-container {
        position: relative;
        height: 22rem; /* REVISED height */
        background-color: #e9ecef;
        border-radius: 0.375rem;
        overflow: hidden;
        box-shadow: inset 0 2px 4px rgba(0,0,0,.06);
    }
    /* Individual Store Image Styling */
    .store-image {
        position: absolute;
        top: 0; left: 0;
        width: 100%; height: 100%;
        opacity: 0;
        transition: opacity 0.7s ease-in-out;
        object-fit: contain;
    }
    /* Active (Visible) Store Image */
    .store-image.active {
        opacity: 1;
    }

    /* Custom List Bullet Styling */
     .metadata-list li::before, .insights-list li::before {
        content: 'â–¹';
        color: var(--bs-primary);
        position: absolute;
        left: 0;
        font-weight: bold;
        font-size: 1.1em; /* Standard bullet size */
        line-height: 1.2;
     }
     /* List Item Padding for Custom Bullet */
     .metadata-list li, .insights-list li {
        padding-left: 1.3rem; /* REVISED space */
        position: relative;
        margin-bottom: 0.4rem; /* Standard spacing */
     }
     /* Remove Default List Styling */
     .metadata-list ul, .insights-list ul, .list-unstyled {
         list-style: none;
         padding-left: 0;
     }

    /* Chart Container Base Styling */
    .chart-container {
       width: 100%;
       position: relative;
       margin-bottom: 1.25rem; /* REVISED space below chart */
       padding: 0.6rem; /* REVISED padding */
       min-height: 340px; /* REVISED minimum height */
       height: 390px; /* REVISED default height */
    }
    /* Specific Height for Pie Chart (Now uses default chart container) */
    /* Removed .chart-container-abc */

    /* Specific Height for Correlation Chart */
     .chart-container-corr {
        min-height: 280px;
        height: 280px; /* REVISED height */
    }

    /* Sticky Table Header Styling */
    .table th {
        position: sticky;
        top: 0;
        z-index: 10;
        background-color: #f8f9fa;
        font-weight: 600;
    }
    /* Container for Scrollable Tables */
    .table-responsive {
        max-height: 370px; /* REVISED max height */
        overflow-y: auto;
    }

    /* Header social links styling */
    .social-link {
        text-decoration: none; /* Remove underline from links */
        display: inline-flex; /* Align icon and text nicely */
        align-items: center; /* Vertically center icon and text */
    }
    .social-link svg {
        vertical-align: middle; /* Better alignment if display:inline-flex doesn't work */
    }

  </style>
</head>
<body>

  <!-- Main Container - Using container-xxl for maximum width -->
  <!-- REVISED padding: py-4 (all screens) -->
  <div class="container-xxl py-4">

    <!-- Main Grid Row - INCREASED gutter to g-5 for more space -->
    <div class="row g-5">

      <!-- Project Title Card - Spans full width (col-12) -->
      <div class="col-12">
        <div class="card text-white text-center shadow-lg" style="background: linear-gradient(to bottom right, #0dcaf0, #0d6efd);">
          <!-- REVISED padding (p-4 standard) -->
          <div class="card-body p-4">
            <!-- IITM Logo -->
            <img src="https://upload.wikimedia.org/wikipedia/en/thumb/6/69/IIT_Madras_Logo.svg/1200px-IIT_Madras_Logo.svg.png" alt="IIT Madras Logo" class="mb-4" style="height: 5rem; width: auto;"> <!-- REVISED logo size -->
            <!-- Main Title - REVISED size to display-5 -->
            <h1 class="card-title display-5 fw-bold mb-3">Optimizing Inventory and Operations for Sustainable Growth</h1>
            <!-- Subtitle - REVISED size to h3 -->
            <p class="card-subtitle h3 fw-light mb-4">Jai Maa Jhandewali Store - BDM Capstone Project</p>
            <!-- Student Info Box - REVISED font size to fs-6 (slightly larger than default) -->
            <div class="bg-dark bg-opacity-25 px-3 py-2 rounded d-inline-block fs-6"> <!-- REVISED padding & font size -->
              <!-- Line 1: Name and Roll Number -->
              <p class="mb-2">
                <span class="fw-semibold">Sumit Kumar</span> | Roll No: <span class="fw-semibold">22f2000848</span>
              </p>
              <!-- Line 2: Social/Repo Links -->
              <div class="d-flex justify-content-center align-items-center gap-3"> <!-- Flexbox for alignment and gap -->
                <!-- GitHub Link with Icon and Text -->
                <a href="https://github.com/repo-sumit/BDM_Project" target="_blank" rel="noopener noreferrer" class="text-white social-link" aria-label="GitHub Repository">
                  <!-- Bootstrap GitHub Icon SVG (Size 22x22) -->
                  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-github me-1" viewBox="0 0 16 16"> <!-- Added margin -->
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
                  </svg>
                  <span class="align-middle">GitHub repo</span> <!-- Added Text -->
                </a>
                <!-- LinkedIn Link with Icon and Text -->
                <a href="https://www.linkedin.com/in/in-sumit/" target="_blank" rel="noopener noreferrer" class="text-white social-link" aria-label="LinkedIn Profile">
                   <!-- Bootstrap LinkedIn Icon SVG (Size 22x22) -->
                   <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-linkedin me-1" viewBox="0 0 16 16"> <!-- Added margin -->
                     <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
                   </svg>
                   <span class="align-middle">LinkedIn</span> <!-- Added Text -->
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Project Title Card -->

      <!-- Store Information Card -->
      <div class="col-lg-6">
        <div class="card h-100 shadow-sm card-accent-left">
          <div class="card-header bg-primary bg-opacity-10 border-primary">
             <h2 class="h4 mb-0 text-primary fw-semibold">About Jai Maa Jhandewali Store</h2>
          </div>
          <div class="card-body p-4">
            <div class="store-image-container mb-4">
               <img src="https://i.ibb.co/T3rRXHf/Screenshot-2025-04-22-080742.png" alt="Store Front" class="store-image active" id="storeImage1">
               <img src="https://i.ibb.co/35vY7zjV/Screenshot-2025-04-22-080939.png" alt="Store Interior" class="store-image" id="storeImage2">
               <img src="https://i.ibb.co/ZzwVnsck/Screenshot-2025-04-22-081125.png" alt="Authorization Letter" class="store-image" id="storeImage3">
            </div>
            <div class="text-center mb-4">
              <button onclick="changeStoreImage(-1)" class="btn btn-primary btn-sm me-2">Previous</button>
              <button onclick="changeStoreImage(1)" class="btn btn-primary btn-sm">Next</button>
            </div>
            <div class="insights-list">
              <h3 class="h5 fw-semibold text-dark mb-3">Store Overview:</h3>
              <ul class="text-muted fs-6">
                <li><strong>Type:</strong> Family-run B2C grocery store</li>
                <li><strong>Location:</strong> VP Block, Pitampura, Delhi</li>
                <li><strong>Owner:</strong> Mr. Satyam Prakash (Student)</li>
                <li><strong>Established:</strong> ~2 years ago</li>
                <li><strong>Products:</strong> Daily essentials, dairy, groceries, FMCG</li>
                <li><strong>Operations:</strong> 9 AM - 9 PM, Family-run</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <!-- End Store Information Card -->

      <!-- Problem Statement Card -->
       <div class="col-lg-6">
         <div class="card h-100 shadow-sm card-accent-left">
           <div class="card-header bg-primary bg-opacity-10 border-primary">
              <h2 class="h4 mb-0 text-primary fw-semibold">Problem Statement & Background</h2>
           </div>
           <div class="card-body p-4 insights-list">
             <h3 class="h5 fw-semibold text-dark mb-3">Identified Objectives:</h3>
             <ul class="text-muted mb-4 fs-6">
               <li>
                 <strong>Inventory Management Issues:</strong> Difficulty maintaining optimal stock, managing fluctuations for perishables/seasonal items, avoiding wastage/missed sales.
               </li>
                <li>
                 <strong>Space Constraints:</strong> Limited physical space restricts efficient storage, product range expansion, and managing slow-moving products.
               </li>
               <li>
                 <strong>Limited Business Growth:</strong> Reliance on family-run operations & manual systems hinders scalability and operational efficiency.
               </li>
             </ul>
             <h3 class="h5 fw-semibold text-dark mt-4 mb-3">Problem Background:</h3>
              <p class="text-muted mb-3 fs-6">The store handles diverse SKUs with varying shelf lives. The owner's academic commitments limit time for detailed inventory management, leading to overstocking or stockouts, especially for high-demand/seasonal items. Lack of automated systems worsens this.</p>
              <p class="text-muted mb-3 fs-6">Operating from a single room attached to home creates significant space limits. Excess inventory stored in the house is inefficient. This restricts product range expansion and complicates stock handling.</p>
              <p class="text-muted mb-0 fs-6">The family-run model faces scalability challenges due to potential inconsistencies and lack of professional systems (sales/inventory tracking). Competition from quick-commerce platforms necessitates exploring options like home delivery.</p>
           </div>
         </div>
       </div>
      <!-- End Problem Statement Card -->

      <!-- Data Overview & Metadata Card -->
       <div class="col-12">
         <div class="card shadow-sm card-accent-left">
            <div class="card-header bg-primary bg-opacity-10 border-primary">
                <h2 class="h4 mb-0 text-primary fw-semibold">Data Overview & Collection</h2>
            </div>
            <div class="card-body p-4">
                <div class="row g-4 metadata-list">
                    <div class="col-lg-4 col-md-6">
                        <div class="p-3 bg-light border rounded h-100">
                            <h3 class="h5 fw-semibold text-primary-emphasis mb-3">Source & Scope</h3>
                            <ul class="text-muted fs-6">
                                <li><strong>Type:</strong> Primary Data</li>
                                <li><strong>Source:</strong> Jai Maa Jhandewali Store</li>
                                <li><strong>Collection:</strong> Record Digitization, Interviews</li>
                                <li><strong>Period:</strong> Jan 2024 - Jan 2025 (13 Mo)</li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6">
                        <div class="p-3 bg-light border rounded h-100">
                            <h3 class="h5 fw-semibold text-primary-emphasis mb-3">Dataset Details</h3>
                            <ul class="text-muted fs-6">
                                <li><strong>Format:</strong> Cleaned, daily aggregated</li>
                                <li><strong>Records:</strong> 398 days</li>
                                <li><strong>Columns:</strong> 14 (Date + 13 SKUs)</li>
                                <li><a href="https://docs.google.com/spreadsheets/d/1hMAmaAbf4dJ4aiPyztVxLYa6_tDHUOJYUaob6Naxx18/edit?usp=sharing" target="_blank" class="text-primary fw-medium">View Dataset <small>(opens new tab)</small></a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-12">
                        <div class="p-3 bg-light border rounded h-100">
                            <h3 class="h5 fw-semibold text-primary-emphasis mb-3">Key Categories</h3>
                            <ul class="text-muted fs-6">
                                <li><strong>Dairy:</strong> Milk, Butter</li>
                                <li><strong>Groceries:</strong> Rice, Wheat, Pulse...</li>
                                <li><strong>FMCG:</strong> Bread, Soft Drinks, Chips...</li>
                                <li><span class="fw-medium text-primary">13 Total SKUs Tracked</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
           </div>
         </div>
       </div>
      <!-- End Data Overview Card -->

      <!-- Analysis Methods Card -->
       <div class="col-12">
           <div class="card shadow-sm card-accent-left">
             <div class="card-header bg-success bg-opacity-10 border-success">
                <h2 class="h4 mb-0 text-success fw-semibold">Analysis Methods Used</h2>
             </div>
             <div class="card-body p-4">
               <div class="row g-4">
                   <div class="col-lg col-md-6">
                       <div class="analysis-method p-3 bg-success-subtle border border-success-subtle rounded h-100">
                           <h3 class="h5 fw-semibold text-success-emphasis mb-2">1. Descriptive Stats</h3>
                           <p class="text-muted mb-0 fs-6">Calculated stats (Mean, Median, StdDev) to understand SKU sales patterns.</p>
                       </div>
                   </div>
                   <div class="col-lg col-md-6">
                       <div class="analysis-method p-3 bg-success-subtle border border-success-subtle rounded h-100">
                           <h3 class="h5 fw-semibold text-success-emphasis mb-2">2. Trend Analysis</h3>
                           <p class="text-muted mb-0 fs-6">Identified seasonal/weekly patterns using Box Plots & Line Charts.</p>
                       </div>
                   </div>
                   <div class="col-lg col-md-6">
                       <div class="analysis-method p-3 bg-success-subtle border border-success-subtle rounded h-100">
                           <h3 class="h5 fw-semibold text-success-emphasis mb-2">3. ABC Segmentation</h3>
                           <p class="text-muted mb-0 fs-6">Classified products (A, B, C) by sales volume contribution.</p>
                       </div>
                   </div>
                   <div class="col-lg col-md-6">
                       <div class="analysis-method p-3 bg-success-subtle border border-success-subtle rounded h-100">
                           <h3 class="h5 fw-semibold text-success-emphasis mb-2">4. Correlation Analysis</h3>
                           <p class="text-muted mb-0 fs-6">Used Pearson Correlation & Heatmap for category relationships.</p>
                       </div>
                   </div>
                    <div class="col-lg col-md-6">
                       <div class="analysis-method p-3 bg-success-subtle border border-success-subtle rounded h-100">
                           <h3 class="h5 fw-semibold text-success-emphasis mb-2">5. Sales Prediction (ML)</h3>
                           <p class="text-muted mb-0 fs-6">Applied Linear Regression (Milk example) to show forecast feasibility.</p>
                       </div>
                   </div>
               </div>
             </div>
           </div>
       </div>
       <!-- End Analysis Methods Card -->

      <!-- Results & Findings Section -->
       <div class="col-12">
           <div class="card shadow-sm">
             <div class="card-header bg-info bg-opacity-10 border-info">
                <h2 class="h4 mb-0 text-info fw-semibold">Results & Findings</h2>
             </div>
             <div class="card-body p-4">
                <div class="row g-4">

                  <!-- Monthly Sales Bar Chart Card -->
                   <div class="col-md-6">
                     <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column p-4">
                           <h3 class="h5 fw-semibold text-center text-dark mb-2">Average Monthly Sales Distribution</h3>
                           <p class="text-center text-muted mb-3 fs-6">(Aggregated Daily Units - Placeholder Data)</p>
                           <div class="chart-container flex-grow-1">
                              <canvas id="monthlySalesChart"></canvas> <!-- This will be purple -->
                           </div>
                           <div class="insights-list mt-3">
                             <ul class="list-unstyled mb-0 fs-6">
                               <li>â–¸ Peak Average Sales: <span class="badge bg-danger-subtle text-danger-emphasis">Oct & Dec</span></li>
                               <li>â–¸ Summer Peak: <span class="badge bg-warning-subtle text-warning-emphasis">May-July</span></li>
                               <li>â–¸ Lowest Average Sales: <span class="badge bg-secondary-subtle text-secondary-emphasis">Jan & Feb</span></li>
                               <li class="mt-2 fst-italic">(Note: Bar chart shows averages)</li>
                             </ul>
                           </div>
                        </div>
                     </div>
                   </div>
                   <!-- End Monthly Sales Bar Chart Card -->

                   <!-- Category Sales Trend Card -->
                   <div class="col-md-6">
                     <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column p-4">
                           <h3 class="h5 fw-semibold text-center text-dark mb-2">Monthly Sales Trend by Category</h3>
                           <p class="text-center text-muted mb-3 fs-6">(Placeholder Data)</p>
                           <div class="chart-container flex-grow-1">
                               <canvas id="categoryTrendChart"></canvas> <!-- This will have sharp edges -->
                           </div>
                           <div class="insights-list mt-3">
                             <ul class="list-unstyled mb-0 fs-6">
                               <li>â–¸ <span class="badge bg-danger-subtle text-danger-emphasis">FMCG</span> leads sales volume.</li>
                               <li>â–¸ <span class="badge bg-primary-subtle text-primary-emphasis">Dairy</span> consistently second.</li>
                               <li>â–¸ <span class="badge bg-success-subtle text-success-emphasis">Groceries</span> lowest volume.</li>
                               <li>â–¸ Seasonal peak for FMCG in Summer (May-July).</li>
                             </ul>
                           </div>
                        </div>
                     </div>
                   </div>
                   <!-- End Category Sales Trend Card -->

                   <!-- ABC Analysis Card (Now Pie Chart) -->
                   <div class="col-md-6">
                     <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column p-4">
                            <h3 class="h5 fw-semibold text-center text-dark mb-2">ABC Analysis (% Volume Contribution)</h3>
                            <p class="text-center text-muted mb-3 fs-6">(Placeholder Data)</p>
                            <div class="chart-container flex-grow-1"> <!-- Using default height -->
                               <canvas id="abcChart"></canvas>
                            </div>
                            <div class="insights-list mt-3">
                              <ul class="list-unstyled mb-0 fs-6">
                                <li><span style="color: #119256;">â–ˆ</span> <strong>Category A (~76%):</strong> Prioritize (Milk, Bread, Chips...)</li>
                                <li><span style="color: #ffc107;">â–ˆ</span> <strong>Category B (~17%):</strong> Monitor (Pulse, Sugar, Butter...)</li>
                                <li><span style="color: #dc3545;">â–ˆ</span> <strong>Category C (~7%):</strong> Optimize (Rice, Spices, Salt...)</li>
                              </ul>
                            </div>
                        </div>
                     </div>
                   </div>
                   <!-- End ABC Analysis Card -->

                   <!-- Category Correlation Card -->
                    <div class="col-md-6">
                      <div class="card h-100 shadow-sm">
                        <div class="card-body d-flex flex-column p-4">
                           <h3 class="h5 fw-semibold text-center text-dark mb-2">Key Category Sales Correlations</h3>
                           <p class="text-center text-muted mb-3 fs-6">(Placeholder Data - Replaced Heatmap)</p>
                           <div class="chart-container-corr flex-grow-1">
                               <canvas id="correlationChart"></canvas>
                           </div>
                           <div class="insights-list mt-3">
                             <h4 class="h6 fw-medium mb-2">Key Correlations:</h4>
                             <ul class="list-unstyled mb-2 fs-6">
                               <li>FMCG & Groceries: <span class="fw-semibold text-success">~0.65</span></li>
                               <li>FMCG & Dairy: <span class="fw-semibold text-primary">~0.61</span></li>
                               <li>Dairy & Groceries: <span class="fw-semibold text-danger">~0.43</span></li>
                             </ul>
                             <p class="mb-0 fs-6">Suggests bundling/placement opportunities.</p>
                           </div>
                        </div>
                      </div>
                    </div>
                   <!-- End Category Correlation Card -->

                    <!-- Milk Prediction Card -->
                    <div class="col-12">
                       <div class="card shadow-sm">
                           <div class="card-body d-flex flex-column p-4">
                               <h3 class="h5 fw-semibold text-center text-dark mb-2">Sales Prediction Example: Milk</h3>
                               <p class="text-center text-muted mb-3 fs-6">(Linear Regression vs. Actual Monthly - Placeholder Data)</p>
                               <div class="chart-container flex-grow-1">
                                  <canvas id="milkPredictionChart"></canvas> <!-- Bars will be purple -->
                               </div>
                               <div class="insights-list mt-3">
                                 <ul class="list-unstyled mb-0 fs-6">
                                   <li>â–¸ Model captures general trend, useful for baseline planning.</li>
                                   <li>â–¸ Misses volatility; advanced models (ARIMA) needed for accuracy.</li>
                                   <li>â–¸ <span class="badge bg-danger-subtle text-danger-emphasis">Validation (RMSE) required before use.</span></li>
                                 </ul>
                               </div>
                           </div>
                       </div>
                   </div>
                   <!-- End Milk Prediction Card -->
                </div><!-- End nested row for charts -->
             </div> <!-- End card-body for Results -->
           </div> <!-- End card for Results -->
       </div>
       <!-- End Results & Findings Section -->

      <!-- Recommendations Section -->
       <div class="col-12">
         <div class="card shadow-sm card-accent-left">
           <div class="card-header bg-warning bg-opacity-10 border-warning">
             <h2 class="h4 mb-0 text-warning fw-semibold">Recommendations</h2>
           </div>
           <div class="card-body p-4">
             <ul class="nav nav-tabs nav-fill mb-4" id="recommendationTabs" role="tablist">
               <li class="nav-item" role="presentation">
                 <button class="nav-link active fs-6" id="recInv-tab" data-bs-toggle="tab" data-bs-target="#recInv-pane" type="button" role="tab" aria-controls="recInv-pane" aria-selected="true">Inventory</button>
               </li>
               <li class="nav-item" role="presentation">
                 <button class="nav-link fs-6" id="recSpace-tab" data-bs-toggle="tab" data-bs-target="#recSpace-pane" type="button" role="tab" aria-controls="recSpace-pane" aria-selected="false">Space/Layout</button>
               </li>
               <li class="nav-item" role="presentation">
                 <button class="nav-link fs-6" id="recGrowth-tab" data-bs-toggle="tab" data-bs-target="#recGrowth-pane" type="button" role="tab" aria-controls="recGrowth-pane" aria-selected="false">Growth</button>
               </li>
               <li class="nav-item" role="presentation">
                 <button class="nav-link fs-6" id="recImpact-tab" data-bs-toggle="tab" data-bs-target="#recImpact-pane" type="button" role="tab" aria-controls="recImpact-pane" aria-selected="false">Impact</button>
               </li>
             </ul>
             <div class="tab-content" id="recommendationTabsContent">

               <!-- Inventory Tab Pane -->
               <div class="tab-pane fade show active" id="recInv-pane" role="tabpanel" aria-labelledby="recInv-tab" tabindex="0">
                 <h3 class="h5 fw-semibold text-dark mb-3">Optimizing Inventory:</h3>
                 <div class="table-responsive">
                   <table class="table table-striped table-hover table-bordered fs-6 align-middle">
                      <thead class="table-light">
                         <tr>
                           <th scope="col">Recommendation</th>
                           <th scope="col">Rationale</th>
                           <th scope="col">Priority</th>
                         </tr>
                      </thead>
                      <tbody>
                          <tr><td>JIT/Lean for Cat A perishables</td><td>High volume, wastage risk</td><td class="text-danger fw-medium">High</td></tr>
                          <tr><td>Adjust stock via ABC Analysis</td><td>Align stock with sales</td><td class="text-danger fw-medium">High</td></tr>
                          <tr><td>Use Sales Forecasts (start simple)</td><td>Reduce guesswork</td><td class="text-warning fw-medium">Medium</td></tr>
                          <tr><td>Improve supplier communication</td><td>Ensure peak availability</td><td class="text-warning fw-medium">Medium</td></tr>
                          <tr><td>Discount near-expiry items</td><td>Reduce spoilage loss</td><td class="text-warning fw-medium">Medium</td></tr>
                      </tbody>
                   </table>
                 </div>
               </div>
               <!-- End Inventory Tab Pane -->

               <!-- Space/Layout Tab Pane -->
               <div class="tab-pane fade" id="recSpace-pane" role="tabpanel" aria-labelledby="recSpace-tab" tabindex="0">
                 <h3 class="h5 fw-semibold text-dark mb-3">Addressing Space & Layout:</h3>
                 <div class="table-responsive">
                   <table class="table table-striped table-hover table-bordered fs-6 align-middle">
                      <thead class="table-light">
                         <tr>
                           <th scope="col">Recommendation</th>
                           <th scope="col">Rationale</th>
                           <th scope="col">Priority</th>
                         </tr>
                      </thead>
                      <tbody>
                          <tr><td>Prioritize shelf space for Cat A & B</td><td>Maximize revenue/space</td><td class="text-danger fw-medium">High</td></tr>
                          <tr><td>Optimize layout: Place correlated items nearby</td><td>Encourage cross-selling</td><td class="text-warning fw-medium">Medium</td></tr>
                          <tr><td>Invest in vertical shelving</td><td>Maximize storage capacity</td><td class="text-warning fw-medium">Medium</td></tr>
                          <tr><td>Reduce stock of Cat C items</td><td>Free up valuable space</td><td class="text-warning fw-medium">Medium</td></tr>
                      </tbody>
                   </table>
                 </div>
               </div>
               <!-- End Space/Layout Tab Pane -->

               <!-- Growth Tab Pane -->
               <div class="tab-pane fade" id="recGrowth-pane" role="tabpanel" aria-labelledby="recGrowth-tab" tabindex="0">
                 <h3 class="h5 fw-semibold text-dark mb-3">Enhancing Business Growth:</h3>
                 <div class="table-responsive">
                   <table class="table table-striped table-hover table-bordered fs-6 align-middle">
                     <thead class="table-light">
                        <tr>
                           <th scope="col">Recommendation</th>
                           <th scope="col">Rationale</th>
                           <th scope="col">Priority</th>
                        </tr>
                     </thead>
                     <tbody>
                         <tr><td>Automate Tracking (Excel -> POS)</td><td>Reduce manual effort, enable analysis</td><td class="text-danger fw-medium">High</td></tr>
                         <tr><td>Hire Temporary Support (Peaks/Exams)</td><td>Manage bottlenecks, owner focus</td><td class="text-danger fw-medium">High</td></tr>
                         <tr><td>Introduce Targeted Home Delivery</td><td>Compete, add convenience</td><td class="text-warning fw-medium">Medium</td></tr>
                         <tr><td>Implement Seasonal/Bundled Promotions</td><td>Boost sales, use correlations</td><td class="text-warning fw-medium">Medium</td></tr>
                         <tr><td>Establish Backup Operational Plan</td><td>Ensure business continuity</td><td class="text-warning fw-medium">Medium</td></tr>
                     </tbody>
                   </table>
                 </div>
               </div>
               <!-- End Growth Tab Pane -->

               <!-- Impact Tab Pane -->
               <div class="tab-pane fade" id="recImpact-pane" role="tabpanel" aria-labelledby="recImpact-tab" tabindex="0">
                 <h3 class="h5 fw-semibold text-dark mb-4">Projected Benefits:</h3>
                 <div class="row g-4">
                   <div class="col-md-4">
                     <div class="card h-100 bg-success-subtle border-success-subtle shadow-sm">
                       <div class="card-body p-4">
                         <h4 class="h5 fw-semibold text-success-emphasis mb-3 d-flex align-items-center">
                           <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-check-circle-fill me-2" viewBox="0 0 16 16">
                             <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                           </svg> Financial
                         </h4>
                         <ul class="list-unstyled text-muted mb-0 ps-3 fs-6">
                           <li>â–¸ Profit Margin Increase</li>
                           <li>â–¸ Reduced Wastage Costs</li>
                           <li>â–¸ Improved Cash Flow</li>
                           <li>â–¸ Revenue Growth Potential</li>
                         </ul>
                       </div>
                     </div>
                   </div>
                   <div class="col-md-4">
                     <div class="card h-100 bg-info-subtle border-info-subtle shadow-sm">
                       <div class="card-body p-4">
                         <h4 class="h5 fw-semibold text-info-emphasis mb-3 d-flex align-items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-check-circle-fill me-2" viewBox="0 0 16 16">
                             <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                           </svg> Operational
                         </h4>
                         <ul class="list-unstyled text-muted mb-0 ps-3 fs-6">
                           <li>â–¸ Fewer Stockouts</li>
                           <li>â–¸ Optimized Inventory/Space</li>
                           <li>â–¸ Streamlined Processes</li>
                           <li>â–¸ Better Demand Preparedness</li>
                         </ul>
                       </div>
                     </div>
                   </div>
                   <div class="col-md-4">
                     <div class="card h-100 bg-warning-subtle border-warning-subtle shadow-sm">
                       <div class="card-body p-4">
                          <h4 class="h5 fw-semibold text-warning-emphasis mb-3 d-flex align-items-center">
                             <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-check-circle-fill me-2" viewBox="0 0 16 16">
                             <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                           </svg> Strategic
                         </h4>
                         <ul class="list-unstyled text-muted mb-0 ps-3 fs-6">
                           <li>â–¸ Enhanced Customer Satisfaction</li>
                           <li>â–¸ Improved Competitiveness</li>
                           <li>â–¸ Sustainable Growth Path</li>
                           <li>â–¸ Reduced Owner Burden</li>
                         </ul>
                       </div>
                     </div>
                   </div>
                 </div>
               </div>
               <!-- End Impact Tab Pane -->
             </div> <!-- End Tab Content -->
           </div> <!-- End Recommendations Card Body -->
         </div> <!-- End Recommendations Card -->
       </div>
       <!-- End Recommendations Section -->

    </div> <!-- End main grid row -->
  </div> <!-- End main container -->

  <!-- Bootstrap 5 JS Bundle (includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

  <!-- Custom JavaScript -->
  <script>
    // --- JavaScript for Image Gallery and Charts ---

    // --- Image Gallery Logic ---
    let currentStoreImage = 1;
    const totalStoreImages = 3;

    function changeStoreImage(direction) {
      const currentImgElement = document.getElementById(`storeImage${currentStoreImage}`);
      if (currentImgElement) {
          currentImgElement.classList.remove('active');
      }
      currentStoreImage += direction;
      if (currentStoreImage > totalStoreImages) {
          currentStoreImage = 1;
      } else if (currentStoreImage < 1) {
          currentStoreImage = totalStoreImages;
      }
      const nextImgElement = document.getElementById(`storeImage${currentStoreImage}`);
      if (nextImgElement) {
          nextImgElement.classList.add('active');
      }
    }
    // --- End Image Gallery Logic ---

    // --- Chart.js Integration ---
    function createChart(id, type, data, options) {
      const ctx = document.getElementById(id)?.getContext('2d');
       if (!ctx) {
           console.error(`Canvas element with ID "${id}" not found.`);
           return null;
        }

      // --- Default Chart Options - REVISED FONT SIZES (Slightly Smaller) ---
      const defaultOptions = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                position: 'top',
                 labels: {
                     font: { size: 12 }, // REVISED Legend font size
                     boxWidth: 15,
                     padding: 12,
                     color: '#495057'
                 }
            },
            tooltip: {
                mode: 'index',
                intersect: false,
                backgroundColor: 'rgba(0, 0, 0, 0.8)',
                titleFont: { size: 13 }, // REVISED Tooltip title font size
                bodyFont: { size: 12 }, // REVISED Tooltip body font size
                padding: 12
            },
            title: {
                display: false,
                font: { size: 16 }, // REVISED default title size
                color: '#212529'
            }
        },
        scales: {
            x: {
                ticks: {
                    font: { size: 11 }, // REVISED X-axis label font size
                    color: '#6c757d',
                    autoSkip: true,
                    maxRotation: 45,
                    minRotation: 0
                },
                title: {
                    display: true,
                    font: { size: 12 }, // REVISED Axis title font size
                    color: '#495057'
                },
                grid: { display: false }
            },
            y: {
                beginAtZero: true,
                ticks: { font: { size: 11 }, color: '#6c757d' }, // REVISED Y-axis label font size
                title: {
                    display: true,
                    font: { size: 12 }, // REVISED Axis title font size
                    color: '#495057'
                },
                grid: { color: '#dee2e6' }
            }
        },
        animation: { duration: 600 },
        hover: { mode: 'nearest', intersect: true }
      };

      // --- Merge Default Options with User-Provided Options ---
      const mergedOptions = {
          ...defaultOptions,
          ...options,
          plugins: { ...defaultOptions.plugins, ...options?.plugins, legend: {...defaultOptions.plugins.legend, ...options?.plugins?.legend}, title: {...defaultOptions.plugins.title, ...options?.plugins?.title} },
          scales: {
              x: { ...defaultOptions.scales.x, ...options?.scales?.x, title: {...defaultOptions.scales.x.title, ...options?.scales?.x?.title}, ticks: {...defaultOptions.scales.x.ticks, ...options?.scales?.x?.ticks}},
              y: { ...defaultOptions.scales.y, ...options?.scales?.y, title: {...defaultOptions.scales.y.title, ...options?.scales?.y?.title}, ticks: {...defaultOptions.scales.y.ticks, ...options?.scales?.y?.ticks}},
              ...(options?.scales?.y1 && { y1: { ...defaultOptions.scales.y, position: 'right', grid: { drawOnChartArea: false }, ...options.scales.y1, title: {...defaultOptions.scales.y.title, ...options?.scales?.y1?.title}, ticks: {...defaultOptions.scales.y.ticks, ...options?.scales?.y1?.ticks}}})
            }
       };

      return new Chart(ctx, {
        type: type,
        data: data,
        options: mergedOptions
      });
    }
    // --- End Chart.js Integration ---


    // --- Chart Data Definitions (Same data as before) ---
    const monthLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Jan+1'];
    const monthAvgSalesData = [100, 95, 110, 130, 180, 190, 195, 120, 125, 210, 140, 205, 90];
    const fmcgSalesData = [2000, 1700, 2100, 2400, 3000, 3100, 3050, 2000, 1800, 2900, 2100, 2800, 1600];
    const dairySalesData = [1200, 1100, 1300, 1500, 1900, 2000, 1950, 1400, 1500, 2100, 1500, 2000, 1100];
    const groceriesSalesData = [800, 700, 900, 1000, 1200, 1300, 1250, 800, 850, 1100, 850, 1000, 700];
    const abcCategories = ['A', 'B', 'C'];
    const abcVolumePercent = [76, 17, 7];
    const correlationPairs = ['FMCG & Groceries', 'FMCG & Dairy', 'Dairy & Groceries'];
    const correlationValues = [0.65, 0.61, 0.43];
    const milkActualSales = [1200, 1000, 1150, 1300, 1600, 1700, 1650, 1250, 1300, 1800, 1400, 1750, 950];
    const milkPredictedSales = [1180, 1100, 1200, 1350, 1550, 1680, 1600, 1300, 1350, 1700, 1450, 1650, 1050];
    // --- End Chart Data Definitions ---


    // --- Initialize Charts and Gallery on DOM Load ---
    document.addEventListener("DOMContentLoaded", () => {

        // --- Initialize Image Gallery ---
         const firstStoreImage = document.getElementById('storeImage1');
         if (firstStoreImage) {
             firstStoreImage.classList.add('active');
         } else {
             console.warn("First store image (storeImage1) not found for gallery initialization.");
         }
         // --- End Image Gallery Initialization ---

        // --- Get Bootstrap Theme Colors ---
        const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--bs-primary').trim() || '#0d6efd';
        const successColor = getComputedStyle(document.documentElement).getPropertyValue('--bs-success').trim() || '#198754';
        const warningColor = getComputedStyle(document.documentElement).getPropertyValue('--bs-warning').trim() || '#ffc107';
        const dangerColor = getComputedStyle(document.documentElement).getPropertyValue('--bs-danger').trim() || '#dc3545';
        const infoColor = getComputedStyle(document.documentElement).getPropertyValue('--bs-info').trim() || '#0dcaf0';
        const purpleColor = '#6f42c1'; // Bootstrap purple variable
        const purpleColorTransparent = 'rgba(111, 66, 193, 0.7)'; // Purple with transparency
        // --- End Bootstrap Color Fetching ---


        // --- Create Chart Instances (Using Revised Default Font Sizes) ---

        // Chart 1: Monthly Sales Distribution (Bar Chart) - PURPLE
        createChart('monthlySalesChart', 'bar', {
            labels: monthLabels,
            datasets: [{
                label: 'Average Daily Units Sold',
                data: monthAvgSalesData,
                backgroundColor: purpleColorTransparent, // CHANGED color
                borderColor: purpleColor, // CHANGED color
                borderWidth: 1
            }]
        }, {
            plugins: { legend: { display: true } },
            scales: {
                x: { title: { text: 'Month' } },
                y: { title: { text: 'Avg. Daily Units' } }
            }
        });

        // Chart 2: Category Sales Trend (Line Chart) - SHARP EDGES
        createChart('categoryTrendChart', 'line', {
            labels: monthLabels,
            datasets: [
                { label: 'FMCG', data: fmcgSalesData, borderColor: dangerColor, backgroundColor: 'rgba(220, 53, 69, 0.1)', fill: false, tension: 0 }, // CHANGED tension to 0
                { label: 'Dairy', data: dairySalesData, borderColor: primaryColor, backgroundColor: 'rgba(13, 110, 253, 0.1)', fill: false, tension: 0 }, // CHANGED tension to 0
                { label: 'Groceries', data: groceriesSalesData, borderColor: successColor, backgroundColor: 'rgba(25, 135, 84, 0.1)', fill: false, tension: 0 } // CHANGED tension to 0
            ]
        }, {
            plugins: { legend: { display: true } },
            scales: {
                 x: { title: { text: 'Month' } },
                 y: { title: { text: 'Total Monthly Units' } }
            }
        });

         // Chart 3: ABC Analysis (Pie Chart)
        createChart('abcChart', 'pie', {
            labels: abcCategories,
            datasets: [{
                label: '% Volume Contribution',
                data: abcVolumePercent,
                backgroundColor: [ 'rgba(25, 135, 84, 0.8)', 'rgba(255, 193, 7, 0.8)', 'rgba(220, 53, 69, 0.8)' ],
                borderColor: [ successColor, warningColor, dangerColor ],
                borderWidth: 1,
                hoverOffset: 4
            }]
        }, {
            plugins: {
                 legend: { display: true, position: 'bottom', labels: { font: { size: 12 }, boxWidth: 15, padding: 15 } },
                 tooltip: {
                     callbacks: {
                         label: function(context) {
                             let label = context.label || '';
                             if (label) { label += ': '; }
                             if (context.parsed !== null) { label += context.parsed + '%'; }
                             return label;
                         }
                     }
                 }
             },
        });

        // Chart 4: Category Correlation (Horizontal Bar Chart)
        createChart('correlationChart', 'bar', {
            labels: correlationPairs,
            datasets: [{
                label: 'Correlation Coefficient',
                data: correlationValues,
                backgroundColor: [ 'rgba(25, 135, 84, 0.7)', 'rgba(13, 110, 253, 0.7)', 'rgba(220, 53, 69, 0.7)' ],
                borderColor: [ successColor, primaryColor, dangerColor ],
                borderWidth: 1
            }]
        }, {
             indexAxis: 'y',
             plugins: { legend: { display: false } },
             scales: {
                 x: { title: { text: 'Correlation Coefficient' }, min: 0, max: 1 },
                 y: { title: { display: false }, ticks: { font: { size: 11 }} }
             }
        });

        // Chart 5: Milk Sales Prediction (Combo Bar/Line Chart) - PURPLE BARS
         createChart('milkPredictionChart', 'bar', {
            labels: monthLabels,
            datasets: [
                { // Actual Sales Dataset (Bar)
                    label: 'Actual Milk Sales',
                    data: milkActualSales,
                    backgroundColor: purpleColorTransparent, // ****** CHANGED color ******
                    borderColor: purpleColor, // ****** CHANGED color ******
                    borderWidth: 1,
                    order: 2
                },
                { // Predicted Sales Dataset (Line) - Remains Orange
                    label: 'Predicted Milk Sales (LR)',
                    data: milkPredictedSales,
                    type: 'line',
                    borderColor: warningColor,
                    backgroundColor: 'rgba(255, 193, 7, 0.1)',
                    fill: false,
                    tension: 0.2, // Keep prediction smooth
                    borderWidth: 2,
                    order: 1
                 }
            ]
         }, {
             plugins: { legend: { display: true } },
             scales: {
                 x: { title: { text: 'Month' } },
                 y: { title: { text: 'Monthly Units' } }
            }
         });
        // --- End Chart Creation ---

    }); // End DOMContentLoaded event listener

  </script>
  <!-- End Custom JavaScript -->
</body>
</html>
